<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Bank account</title>
    <style>
        body {
            background-color: oldlace;
        }

        h1 {
            color: #111;
            font-family: 'Helvetica Neue', sans-serif;
            font-size: 100px;
            font-weight: bold;
            letter-spacing: -1px;
            line-height: 1;
            text-align: center;
            text-underline:gold;
        }

        h2 {
            color: #111;
            font-family: 'Helvetica Neue', sans-serif;
            font-size: 25px;
            font-weight: bold;
            text-align: center;
        }

        h3 {
            color: midnightblue;
            font-family: 'Helvetica Neue', sans-serif;
            font-size: 20px;
            text-decoration: underline;
            text-decoration-color: gold;
            text-decoration-thickness: 30%;
        }

        /*p.test {*/
        /*    color: oldlace;*/
        /*}*/

        th {
            color: midnightblue;
            font-family: 'Helvetica Neue', sans-serif;
        }

        button {
            color: black;
            background-color: transparent;
            font-size: 20px;
            font-family: 'Helvetica Neue', sans-serif;
            border-color: gold;
            border-width: thick;
            border-style: double;
            border-radius: 25%;
            align-items: center;
        }

    </style>

    <!--Lisan favicon.ico:-->
    <link href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGn69/xaS4f8WkuH/FpLh/xaS4f8WkuH/GIrT/xp+vf8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF5Pi/xeT4v8Xk+L/F5Pi/xeT4v8Xk+L/F5Pi/xeT4v8Xk+L/F5Pi/wAAAAAAAAAAAAAAAAAAAAAAAAAAGZXk/xmV5P8ZleT/GZXk/xmV5P8Z6///Gev//xmV5P8ZleT/GZXk/xmV5P8ZleT/AAAAAAAAAAAAAAAAAAAAABqW5f8aluX/Gpbl/xXo/f8V6v7/Fer+/xXq/v8V6v7/Gpbl/xqW5f8aluX/Gpbl/wAAAAAAAAAAAAAAAAAAAAAcmOf/HJjn/xyY5/8ejdT/Ho/Y/xHo/f8R6P3/Eej9/xHo/f8cmOf/HJjn/xyY5/8AAAAAAAAAAAAAAAAAAAAAHZrp/x2a6f8dmun/HZrp/wzn+/8M5/v/DOf7/wzn+/8dmun/HZrp/x2a6f8dmun/AAAAAAAAAAAAAAAAAAAAAB+b6v8fm+r/H5vq/wjl+v8I5fr/COX6/wjl+v8fm+r/H5vq/x+b6v8fm+r/H5vq/wAAAAAAAAAAAAAAAAAAAAAgnez/IJ3s/yCd7P8hld7/BOT5/wTk+f8E5Pn/BOT5/yCd7P8gnez/IJ3s/yCd7P8AAAAAAAAAAAAAAAAAAAAAAAAAACKe7f8inu3/Ip7t/yOS2f8E5Pn/BOT5/yKe7f8inu3/Ip7t/yKe7f8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjoO//I6Dv/yOg7/8joO//JJTb/yOf7f8joO//I6Dv/yOg7/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACWh8PclofD/JaHw/yWh8P8lofD/JaHw/yWh8P8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACPN9/8jzff/I833/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAopfT/KKX0/yil9P8opfTHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAppvX/Kab1/ymm9f8ppvX/Kab1/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArqPf/AAAAAAAAAAAAAAAAK6j3/wAAAAApp/d3AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8A8AAOAHAADAAwAAwAMAAMADAADAAwAAwAMAAMADAADgBwAA4A8AAPAfAAD8fwAA/D8AAPg/AAD3fwAA//8AAA=="
          rel="icon" type="image/x-icon"/>

</head>
<body>

<h1 align="center">BANK ACCOUNT</h1>
<h2 align="center">welcome - this is your account's overview</h2>

<table align="center" border="0" cellpadding="30" cellspacing="30">


    <tr align="left" valign="top" bgcolor="#fdf5e6">
        <th><h3>CREATE A NEW ACCOUNT</h3></th>
        <th>
            Insert Owner' name: <br>
            <input id="ownerName1"><br>
            <br>
            Insert the account number: <br>
            <input id="accountNumber1"><br>
            <br>
            <button id="createAccountButton">create account</button>
            <br>
            <br>
            <span id="createAccountAnswer"></span>
        </th>
    </tr>

    <tr align="left" valign="top" bgcolor="#fdf5e6">
        <th><h3>GET BALANCE</h3></th>
        <th>
            Insert the account number: <br>
            <input id="accountNumber2"><br>
            <br>
            <button id="getBalanceButton">get balance</button>
            <br>
            <br>
            <span id="getBalanceAnswer"></span>
        </th>
    </tr>

    <tr align="left" valign="top" bgcolor="#fdf5e6">
        <th><h3>PAYMENTS</h3></th>
        <th>
            ADD BALANCE<BR>
            <br>
            Insert the account number:<br>
            <input id="accountNumber3"><br>
            <br>
            Insert the amount:<br>
            <input id="amount3"><br>
            <br>
            <button id="addBalanceButton">add balance</button>
            <br>
            <br>
            <span id="addBalanceAnswer"></span>
        </th>
        <th>
            MAKE A TRANSFER<BR>
            <br>
            Insert your account number:<br>
            <input id="accountNumber4"><br>
            <br>
            Insert the account number to whom you want to make a transfer:<br>
            <input id="accountNumber5"><br>
            <br>
            Insert the transfer amount:<br>
            <input id="amount5"><br>
            <br>
            <button id="makeATransferButton">transfer</button>
            <br>
            <br>
            <span id="makeATransferAnswer"></span>
        </th>
    </tr>

    <tr align="left" valign="top" bgcolor="#fdf5e6">
        <th><h3>DELETE ACCOUNT</h3></th>
        <th>
            Insert Owner' name: <br>
            <input id="ownerName6"><br>
            <br>
            Insert the account number: <br>
            <input id="accountNumber6"><br>
            <br>
            <button id="deleteAccountButton">delete account</button>
            <br>
            <br>
            <span id="deleteAccountAnswer"></span>
        </th>
    </tr>

</table>

<script>

    let name = document.getElementById("ownerName1");
    let accountNr = document.getElementById("accountNumber1");
    let createAccountButton = document.getElementById("createAccountButton");

    createAccountButton.onclick = function () {
        let configuration = {
            method: 'POST',
        }
        let createAccountAnswer = document.getElementById("createAccountAnswer");

        fetch("http://localhost:8080/createaccount4/" + accountNr.value + "/" + name.value, configuration)
            .then(response => response.text())
            .then(function (response) {
                createAccountAnswer.innerText = "The account has been created"
            })
    }


    let accountNr2 = document.getElementById("accountNumber2");
    let getBalanceButton = document.getElementById("getBalanceButton");

    getBalanceButton.onclick = function () {
        let getBalanceAnswer = document.getElementById("getBalanceAnswer");

        fetch("http://localhost:8080/getbalance4/" + accountNr2.value)
            .then(response => response.text())
            .then(function (response) {
                getBalanceAnswer.innerText = "The balance is: " + response + " €"
            })
    }

    let amount3 = document.getElementById("amount3");
    let accountNr3 = document.getElementById("accountNumber3");
    let addBalanceButton = document.getElementById("addBalanceButton");


    let configuration = {
        method: 'PUT',
    }

    addBalanceButton.onclick = function () {
        let addBalanceAnswer = document.getElementById("addBalanceAnswer");

        fetch("http://localhost:8080/deposit4/" + accountNr3.value + "/" + amount3.value, configuration)
            .then(function (x) {
                if (x.status > 200) {
                    x.json().then(response => addBalanceAnswer.innerText = response.message)
                } else {
                    x.text().then(response => addBalanceAnswer.innerText = response + " €")
                }
            });
    }

    let amount5 = document.getElementById("amount5");
    let accountNr4 = document.getElementById("accountNumber4");
    let accountNr5 = document.getElementById("accountNumber5");
    let makeATransferButton = document.getElementById("makeATransferButton");

    makeATransferButton.onclick = function () {
        let configuration = {
            method: 'PUT',
        }
        let makeATransferAnswer = document.getElementById("makeATransferAnswer");

        fetch("http://localhost:8080/transfer4/" + accountNr4.value + "/" + accountNr5.value + "/" + amount5.value, configuration)
            .then(function (x) {
                if (x.status > 200) {
                    x.json().then(response => makeATransferAnswer.innerText = response.message)
                } else {
                    x.text().then(response => makeATransferAnswer.innerText = response)
                }
            });
    }

    let accountNr6 = document.getElementById("accountNumber6");
    let name6 = document.getElementById("ownerName6");
    let deleteAccountButton = document.getElementById("deleteAccountButton");

    deleteAccountButton.onclick = function () {
        let configuration = {
            method: 'DELETE',
        }
        let deleteAccountAnswer = document.getElementById("deleteAccountAnswer");

        fetch("http://localhost:8080/deleteaccount4/" + accountNr6.value + "/" + name6.value, configuration)
            .then(response => response.text())
            .then(function (response) {
                deleteAccountAnswer.innerText = "The account has been deleted"
            })
    };

</script>


</body>
</html>